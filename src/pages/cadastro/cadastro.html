<!--
  Generated template for the CadastroPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>Cadastro</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>
    <form [formGroup]="validations_form" (submit)=cadastra(validations_form.value)>
        <ion-list>
            <ion-item>
                <ion-label floating color="primary">Nome</ion-label>
                <ion-input type="text" formControlName="name"></ion-input>
              </ion-item>
              <div class="validation-errors">
                <ng-container *ngFor="let validation of validation_messages.name">
                  <div class="error-message" *ngIf="validations_form.get('name').hasError(validation.type) && (validations_form.get('name').dirty || validations_form.get('name').touched)">
                    {{ validation.message }}
                  </div>
                </ng-container>
              </div>
              <ion-item>
                  <ion-label floating color="primary">Email</ion-label>
                  <ion-input [textMask]="emailMask" type="text" formControlName="email"></ion-input>
                </ion-item>
                <div class="validation-errors">
                  <ng-container *ngFor="let validation of validation_messages.email">
                    <div class="error-message" *ngIf="validations_form.get('email').hasError(validation.type) && (validations_form.get('email').dirty || validations_form.get('email').touched)">
                      {{ validation.message }}
                    </div>
                  </ng-container>
                </div>
                <div formGroupName="matching_passwords">
                    <ion-item>
                      <ion-label floating color="primary">Senha</ion-label>
                      <ion-input type="password" formControlName="password"></ion-input>
                    </ion-item>
                    <div class="validation-errors">
                      <ng-container *ngFor="let validation of validation_messages.password">
                        <div class="error-message" *ngIf="validations_form.get('matching_passwords').get('password').hasError(validation.type) && (validations_form.get('matching_passwords').get('password').dirty || validations_form.get('matching_passwords').get('password').touched)">
                          {{ validation.message }}
                        </div>
                      </ng-container>
                    </div>
              
                    <ion-item>
                      <ion-label floating color="primary">Confirme Senha</ion-label>
                      <ion-input type="password" formControlName="confirm_password"></ion-input>
                    </ion-item>
                    <div class="validation-errors">
                      <ng-container *ngFor="let validation of validation_messages.confirm_password">
                        <div class="error-message" *ngIf="validations_form.get('matching_passwords').get('confirm_password').hasError(validation.type) && (validations_form.get('matching_passwords').get('confirm_password').dirty || validations_form.get('matching_passwords').get('confirm_password').touched)">
                          {{ validation.message }}
                        </div>
                      </ng-container>
                    </div>
                  </div>
                  <!-- These validations are for the form group -->
                  <div class="validation-errors">
                    <ng-container *ngFor="let validation of validation_messages.matching_passwords">
                      <div class="error-message" *ngIf="validations_form.get('matching_passwords').hasError(validation.type) && (validations_form.get('matching_passwords').get('confirm_password').dirty || validations_form.get('matching_passwords').get('confirm_password').touched)">
                        {{ validation.message }}
                      </div>
                    </ng-container>
                  </div>
          
    

          

          
           <!-- These validations are for the form group -->
    
          <div padding>
            <button ion-button color="primary" block >Registrar</button>
          </div>
    
        </ion-list>
      </form>

      

</ion-content>
