<ion-header>
  
  <ion-navbar>
    
    <ion-searchbar [(ngModel)]="queryText" *ngIf="buscaTitulo" showCancelButton="true" (search)="onSearch($event)" (ionCancel)="onCancel()"></ion-searchbar>

    <ion-buttons>
      <button *ngIf="!buscaTitulo" ion-button icon-only menuToggle>
        <ion-icon name="menu"></ion-icon>
      </button>
    </ion-buttons>
    <ion-buttons end>
      <button ion-button icon-only *ngIf="!buscaTitulo" (click)="buscaTitulo=true">
        <ion-icon name="search"></ion-icon>
      </button>
    </ion-buttons>


  </ion-navbar>
  
</ion-header>


<ion-content  padding  auto-hide>
  
  

  <ion-refresher (ionRefresh)="doRefresh($event)">
    <ion-refresher-content
      pullingIcon="arrow-dropdown"
      pullingText="Pull to refresh"
      refreshingSpinner="circles"
      refreshingText="Carregando...">
    </ion-refresher-content>
  </ion-refresher>
  
  
  <ion-card *ngFor="let anuncio of lista_anuncios">
    <ion-item>
      <ion-avatar item-start>
        <img src="assets/icon/icone-do-usuario.jpg">
      </ion-avatar>
      <h2>{{anuncio.titulo}}</h2>
      <p>{{anuncio.anunciante.nome |nameFilter}}, Brasilia </p>
      <br>
      
    </ion-item>
    <ion-card-content>
      {{anuncio.descricao  | elipseFilter:100 }}
      <ion-row>
        <ion-col>
          <button ion-button icon-start>
            <ion-icon name="thumbs-up"></ion-icon>
            <div>Ver </div>
          </button>
        </ion-col>
        <ion-col>
          <button ion-button icon-start (click)="candidatar(anuncio.id)">
            <ion-icon name="hand"></ion-icon>
            <div>Candidatar-se</div>
          </button>
        </ion-col>
        <ion-col center text-center>
          <ion-note>
            {{anuncio.dataHora | date:'EEEE dd/MM/yyyy'}} às  {{anuncio.dataHora | date:'HH:mm'}}
          </ion-note>
        </ion-col>

      </ion-row>
    </ion-card-content>
  </ion-card>
  <ion-fab center bottom #fab>
    <button ion-fab (click)="goCadastrarServico()">
    <ion-icon name="ios-create-outline"></ion-icon>
  </button>
    
  </ion-fab>
  <ion-infinite-scroll (ionInfinite)="doInfinite($event)">
    <ion-infinite-scroll-content
    loadingSpinner="bubbles"
    loadingText="Carregando mais serviços...">
  </ion-infinite-scroll-content>
 </ion-infinite-scroll>
  

</ion-content>